<div class="control-group table-responsive">
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                {% for i in data %}
                    <td class="font-weight-bold text-center">{{ i }}</td>
                {% endfor %}
            </tr>
            <tr>
                {% for i in data %}
                    <td class ="text-center" data-toggle="tooltip" title="First switch to use or not an attribute, second switch for target attribute.">Use-Target</td>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            <tr>
                {% for i in data %}
                <td class="column-dataset">
                    <div class="material-switch pull-right float-left mr-3" id="col{{ loop.index0 }}_use_div">
                        <input type="checkbox" id="col{{ loop.index0 }}_use" 
                            {% if not loop.last %}
                                checked="checked"
                            {% endif %}
                        />
                        <label for="col{{ loop.index0 }}_use" class="badge-primary" onclick="target_or_use('col{{ loop.index0 }}','use')"></label>
                    </div>
                    <div class="material-switch pull-right float-right" id="col{{ loop.index0 }}_target_div">
                        <input type="checkbox" id="col{{ loop.index0 }}_target" class="col_target"
                        {% if loop.last %}
                            checked="checked"
                        {% endif %}
                        />
                        <label for="col{{ loop.index0 }}_target" class="badge-info" onclick="only_one_target('col{{ loop.index0 }}_target');target_or_use('col{{ loop.index0 }}','target')"></label>
                    </div>
                </td>
                {% endfor %}
            </tr>
        </tbody>
    </table>
</div>
<script>
 dataset_columns = [{% for i in data %}'{{ i }}'{% if not loop.last %},{% endif %}{% endfor %}];
</script>